{"ast":null,"code":"import { ApolloClient, InMemoryCache, split, HttpLink } from '@apollo/client';\nimport { getMainDefinition } from '@apollo/client/utilities';\nimport { GraphQLWsLink } from '@apollo/client/link/subscriptions';\nimport { createClient } from 'graphql-ws';\nconst GRAPHQL_ENDPOINT = 'ws://localhost:9999/graphql';\nconst HTTP_ENDPOINT = 'http://localhost:9999/graphql';\nconst httpLink = new HttpLink({\n  uri: HTTP_ENDPOINT\n});\nconst wsLink = new GraphQLWsLink(createClient({\n  url: GRAPHQL_ENDPOINT\n}));\n\n// The split function takes three parameters:\n//\n// * A function that's called for each operation to execute\n// * The Link to use for an operation if the function returns a \"truthy\" value\n// * The Link to use for an operation if the function returns a \"falsy\" value\nconst splitLink = split(_ref => {\n  let {\n    query\n  } = _ref;\n  const definition = getMainDefinition(query);\n  return definition.kind === 'OperationDefinition' && definition.operation === 'subscription';\n}, wsLink, httpLink);\n\n// ...code from the above example goes here...\n\nconst client = new ApolloClient({\n  link: splitLink,\n  cache: new InMemoryCache()\n});\nexport default client;","map":{"version":3,"names":["ApolloClient","InMemoryCache","split","HttpLink","getMainDefinition","GraphQLWsLink","createClient","GRAPHQL_ENDPOINT","HTTP_ENDPOINT","httpLink","uri","wsLink","url","splitLink","_ref","query","definition","kind","operation","client","link","cache"],"sources":["D:/Javascript/React/AnonymousChatApp/client/src/apollo/index.js"],"sourcesContent":["import { ApolloClient, InMemoryCache, split, HttpLink } from '@apollo/client';\r\nimport { getMainDefinition } from '@apollo/client/utilities';\r\nimport { GraphQLWsLink } from '@apollo/client/link/subscriptions';\r\nimport { createClient } from 'graphql-ws';\r\n\r\nconst GRAPHQL_ENDPOINT = 'ws://localhost:9999/graphql';\r\nconst HTTP_ENDPOINT = 'http://localhost:9999/graphql';\r\n\r\nconst httpLink = new HttpLink({\r\n    uri: HTTP_ENDPOINT\r\n});\r\n\r\nconst wsLink = new GraphQLWsLink(createClient({\r\n    url: GRAPHQL_ENDPOINT,\r\n}));\r\n\r\n// The split function takes three parameters:\r\n//\r\n// * A function that's called for each operation to execute\r\n// * The Link to use for an operation if the function returns a \"truthy\" value\r\n// * The Link to use for an operation if the function returns a \"falsy\" value\r\nconst splitLink = split(\r\n    ({ query }) => {\r\n        const definition = getMainDefinition(query);\r\n        return (\r\n            definition.kind === 'OperationDefinition' &&\r\n            definition.operation === 'subscription'\r\n        );\r\n    },\r\n    wsLink,\r\n    httpLink,\r\n);\r\n\r\n// ...code from the above example goes here...\r\n\r\nconst client = new ApolloClient({\r\n    link: splitLink,\r\n    cache: new InMemoryCache()\r\n});\r\n\r\nexport default client;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,gBAAgB;AAC7E,SAASC,iBAAiB,QAAQ,0BAA0B;AAC5D,SAASC,aAAa,QAAQ,mCAAmC;AACjE,SAASC,YAAY,QAAQ,YAAY;AAEzC,MAAMC,gBAAgB,GAAG,6BAA6B;AACtD,MAAMC,aAAa,GAAG,+BAA+B;AAErD,MAAMC,QAAQ,GAAG,IAAIN,QAAQ,CAAC;EAC1BO,GAAG,EAAEF;AACT,CAAC,CAAC;AAEF,MAAMG,MAAM,GAAG,IAAIN,aAAa,CAACC,YAAY,CAAC;EAC1CM,GAAG,EAAEL;AACT,CAAC,CAAC,CAAC;;AAEH;AACA;AACA;AACA;AACA;AACA,MAAMM,SAAS,GAAGX,KAAK,CACnBY,IAAA,IAAe;EAAA,IAAd;IAAEC;EAAM,CAAC,GAAAD,IAAA;EACN,MAAME,UAAU,GAAGZ,iBAAiB,CAACW,KAAK,CAAC;EAC3C,OACIC,UAAU,CAACC,IAAI,KAAK,qBAAqB,IACzCD,UAAU,CAACE,SAAS,KAAK,cAAc;AAE/C,CAAC,EACDP,MAAM,EACNF,QAAQ,CACX;;AAED;;AAEA,MAAMU,MAAM,GAAG,IAAInB,YAAY,CAAC;EAC5BoB,IAAI,EAAEP,SAAS;EACfQ,KAAK,EAAE,IAAIpB,aAAa;AAC5B,CAAC,CAAC;AAEF,eAAekB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}